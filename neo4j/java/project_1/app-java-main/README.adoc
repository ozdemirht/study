= Building Neo4j Applications with Java

Prepared as part of link:https://graphacademy.neo4j.com/courses/app-java/[Building Neo4j Applications with Java course^].

== Setup
See link:./setup.adoc[Setup Instructions^]

== High Level Diagram

image::./docs/img/HighLevelArchitectureDiagram.png[High Level Architecture^]

== Data Model

=== Entities

[width="80%",cols="3,20",options="header"]
|=========================================================
|Entity |Description
|Movie  | node (entity) represents a movie, and node properties contain release date, title, etc.
|People | node (entity) represents an actor or a director in movies. Node properties contain birth year.
|Genre  | node (entity) represents a genre. Node properties contain label.
|Users  | node (entity) represents a user who rated movies. Node properties contain user's name, etc.
|=========================================================

=== Relationships

[width="80%",cols="3,20",options="header"]
|=========================================================
|Relationship |Description
|ACTED_IN  | a relationship (edge) from People node to Movie node and represents that a people (source node) acted in a movie (target node).
Properties of relationship contain role.
|DIRECTED | a relationship (edge) from People node to Movie node and represents that a people (source node) directed a movie (target node).
Each director can direct multiple movies.
Each movie can have multiple directors.
|GENRE_IN  | a relationship (edge) from movie node to Genre node and represents which genres a movie has.
Each movie can be in multiple genre (cardinality).
|RATED  | a relationship (edge) from a user node to movie node. Represents rating of movie by a user.
Properties of relationship contain a rating and timestamp of rating event.
Each user rates a movie at most once (constraint).
|=========================================================

== Use Cases


== Solutions

=== API : Register User

POST /auth/register

Input

- name
- email
- password

Output

- JWTtoken


=== Use Case #1


== A note on tools
Used link:https://sparkjava.com/[Spark Java^] as Microservices framework.

Used link:https://neo4j.com/developer/java[Neo4j Java Driver^] to connect to Neo4j instance.

Authentication is handled with link:https://github.com/auth0/auth0-java[Auth0^] and link:https://jwt.io/[JWT Tokens^]

Passwords are encrypted and verified with link:https://javadoc.io/doc/at.favre.lib/bcrypt/latest/index.html[bcrypt^]

Testing is performed using link:https://junit.org/junit5/[JUnit5^]

Used link:https://asciidoc-py.github.io/index.html[Asciidoc^] to document.

Used PlantUML to

